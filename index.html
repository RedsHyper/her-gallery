<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ðŸ’›</title>

  <style>
    :root{
      --bg1:#0b1020; --bg2:#1a0f1f;
      --card: rgba(255,255,255,.08);
      --border: rgba(255,255,255,.14);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.7);
      --shadow: 0 20px 60px rgba(0,0,0,.45);
      --radius: 22px;
    }
    *{ box-sizing:border-box; }
    body{
      margin:0; min-height:100vh;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background:
        radial-gradient(1200px 800px at 20% 10%, #2d1b3a 0%, transparent 55%),
        radial-gradient(900px 700px at 80% 30%, #14305f 0%, transparent 55%),
        linear-gradient(135deg, var(--bg1), var(--bg2));
      display:grid;
      place-items:center;
      padding:22px;
      overflow-x:hidden;
    }

    .wrap{
      width:min(980px, 100%);
      display:grid;
      gap:16px;
      grid-template-columns: 1.2fr .8fr;
      opacity: 0;
      transform: translateY(8px);
      transition: opacity 700ms ease, transform 900ms ease;
    }
    .wrap.revealed{
      opacity: 1;
      transform: translateY(0);
    }
    @media (max-width: 900px){
      .wrap{ grid-template-columns:1fr; }
    }

    .card{
      background:var(--card);
      border:1px solid var(--border);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      overflow:hidden;
      backdrop-filter: blur(10px);
    }

    /* Gallery */
    .gallery{ position:relative; aspect-ratio:16/10; min-height:320px; }
    .gallery img{
      position:absolute; inset:0;
      width:100%; height:100%;
      object-fit:cover;
      opacity:0;
      transform:scale(1.02);
      transition: opacity 700ms ease, transform 900ms ease;
    }
    .gallery img.active{ opacity:1; transform:scale(1); }

    .overlay{
      position:absolute; inset:auto 0 0 0;
      padding:18px 18px 16px;
      background: linear-gradient(to top, rgba(0,0,0,.65), rgba(0,0,0,0));
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap:14px;
    }
    .caption{ display:grid; gap:4px; }
    .title{ font-weight:700; font-size:18px; text-shadow:0 10px 30px rgba(0,0,0,.6); }
    .sub{ color:var(--muted); font-size:13px; }

    .controls{ display:flex; gap:10px; align-items:center; }
    button{
      appearance:none;
      border:1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.10);
      color: var(--text);
      border-radius: 14px;
      padding: 10px 12px;
      cursor:pointer;
      transition: transform 120ms ease, background 200ms ease;
      user-select:none;
      font-weight:600;
    }
    button:hover{ background: rgba(255,255,255,.16); }
    button:active{ transform:scale(.98); }

    .dotbar{ display:flex; gap:6px; align-items:center; }
    .dot{
      width:8px; height:8px; border-radius:999px;
      background: rgba(255,255,255,.35);
      transition: transform 200ms ease, background 200ms ease;
    }
    .dot.active{ background: rgba(255,255,255,.85); transform:scale(1.2); }

    /* Side */
    .side{ padding:18px; display:grid; gap:14px; align-content:start; }
    h1{ margin:0; font-size:22px; }
    p{ margin:0; line-height:1.5; color:var(--muted); font-size:14px; white-space: pre-wrap; }

    .note{
      padding:14px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      min-height: 92px;
    }
    .small{ font-size:12px; color: rgba(255,255,255,.6); }
    .heart{ font-size:20px; filter: drop-shadow(0 8px 20px rgba(0,0,0,.5)); }

    /* Typewriter caret */
    .caret::after{
      content:"";
      display:inline-block;
      width: 10px;
      height: 1.15em;
      margin-left: 4px;
      border-right: 2px solid rgba(255,255,255,.75);
      transform: translateY(2px);
      animation: blink 0.9s steps(1) infinite;
    }
    @keyframes blink { 50% { opacity: 0; } }

    /* ===== Curtain Reveal ===== */
    .curtain{
      position: fixed;
      inset: 0;
      z-index: 9999;
      display: grid;
      place-items: center;
      cursor: pointer;
      user-select: none;
      -webkit-tap-highlight-color: transparent;
      background: rgba(0,0,0,.35);
      backdrop-filter: blur(6px);
      transition: opacity 700ms ease, visibility 700ms ease;
    }
    .curtain.hidden{
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
    }

    .curtain-inner{
      position: absolute;
      inset: 0;
      display: grid;
      grid-template-columns: 1fr 1fr;
    }

    .panel{
      position: relative;
      overflow: hidden;
      border-right: 1px solid rgba(255,255,255,.08);
      transition: transform 1100ms cubic-bezier(.2,.9,.2,1);
    }
    .panel.right{ border-right: none; }

    .fabric{
      position:absolute;
      inset:-40px;
      background:
        radial-gradient(1200px 800px at 30% 20%, rgba(255,255,255,.10), transparent 50%),
        radial-gradient(900px 700px at 70% 40%, rgba(255,255,255,.08), transparent 55%),
        linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,0)),
        repeating-linear-gradient(
          90deg,
          rgba(0,0,0,.0) 0px,
          rgba(0,0,0,.0) 10px,
          rgba(0,0,0,.16) 22px
        ),
        linear-gradient(135deg, #3b1030, #0e2b57);
      filter: saturate(1.1) contrast(1.05);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.10);
    }

    .cord{
      position:absolute;
      top: 50%;
      width: 120px;
      height: 120px;
      border: 2px solid rgba(255,255,255,.25);
      border-left: none;
      border-top: none;
      transform: translateY(-50%) rotate(15deg);
      border-radius: 0 0 80px 0;
      opacity: .55;
      filter: drop-shadow(0 10px 20px rgba(0,0,0,.35));
    }
    .panel.left .cord{ right: 14px; }
    .panel.right .cord{
      left: 14px;
      transform: translateY(-50%) rotate(-15deg) scaleX(-1);
    }

    .curtain-ui{
      position: relative;
      z-index: 2;
      text-align: center;
      padding: 18px 18px 16px;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.35);
      box-shadow: 0 30px 80px rgba(0,0,0,.5);
      width: min(520px, calc(100% - 44px));
    }
    .curtain-ui .big{
      font-weight: 800;
      font-size: 20px;
      letter-spacing: .2px;
    }
    .curtain-ui .tiny{
      margin-top: 8px;
      font-size: 13px;
      color: rgba(255,255,255,.75);
      line-height: 1.45;
    }
    .tap{
      margin-top: 12px;
      display: inline-flex;
      gap: 10px;
      align-items: center;
      justify-content: center;
      padding: 10px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.10);
      font-weight: 700;
    }
    .spark{
      display:inline-block;
      animation: floaty 1.6s ease-in-out infinite;
    }
    @keyframes floaty{
      0%,100%{ transform: translateY(0); }
      50%{ transform: translateY(-3px); }
    }

    .curtain.opening .panel.left{ transform: translateX(-102%); }
    .curtain.opening .panel.right{ transform: translateX(102%); }
    .curtain.opening .curtain-ui{
      opacity: 0;
      transform: translateY(8px) scale(.98);
      transition: opacity 500ms ease, transform 700ms ease;
    }

    /* Hidden YouTube player container */
    #ytWrap{
      position: fixed;
      width: 1px;
      height: 1px;
      left: -9999px;
      top: -9999px;
      overflow: hidden;
    }

    .nowPlaying{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
  </style>
</head>

<body>
  <!-- Hidden YouTube player mount -->
  <div id="ytWrap"><div id="ytPlayer"></div></div>

  <!-- Curtain overlay -->
  <div class="curtain" id="curtain" aria-label="Click to reveal" tabindex="0">
    <div class="curtain-inner" aria-hidden="true">
      <div class="panel left">
        <div class="fabric"></div>
        <div class="cord"></div>
      </div>
      <div class="panel right">
        <div class="fabric"></div>
        <div class="cord"></div>
      </div>
    </div>

    <div class="curtain-ui">
      <div class="big">I made something for you <span class="heart">ðŸ’›</span></div>
      <div class="tiny">Click to open the curtain and reveal a little message + photos.</div>
      <div class="tap"><span class="spark">âœ¨</span> Click to reveal</div>
      <div class="small" style="margin-top:10px;">(Music starts when you open it.)</div>
    </div>
  </div>

  <div class="wrap" id="wrap">
    <!-- Gallery -->
    <section class="card gallery" aria-label="Photo gallery">
      <img src="images/1.jpg" class="active" alt="Photo 1">
      <img src="images/2.jpg" alt="Photo 2">
      <img src="images/3.jpg" alt="Photo 3">
      <img src="images/4.jpg" alt="Photo 4">
      <img src="images/5.jpg" alt="Photo 5">
      <img src="images/6.jpg" alt="Photo 6">
      <img src="images/7.jpg" alt="Photo 7">
      <img src="images/8.jpg" alt="Photo 8">
      <img src="images/9.jpg" alt="Photo 9">
      <img src="images/10.jpg" alt="Photo 10">

      <div class="overlay">
        <div class="caption">
          <div class="title">A few of my favorite photos of you <span class="heart">ðŸ’›</span></div>
          <div class="sub" id="counter">1 / 10</div>
        </div>

        <div class="controls">
          <button id="prev" type="button" aria-label="Previous photo">â—€</button>
          <div class="dotbar" id="dots" aria-label="Photo dots"></div>
          <button id="next" type="button" aria-label="Next photo">â–¶</button>
        </div>
      </div>
    </section>

    <!-- Message + Music -->
    <aside class="card side">
      <h1>Your message</h1>
      <div class="note">
        <p id="typeText" class="caret"></p>
      </div>
      <div class="small">It types after the curtain opens ðŸ™‚</div>

      <h1>Music</h1>
      <div class="note">
        <div class="nowPlaying">
          <div>
            <div style="font-weight:700;">Now playing (YouTube)</div>
            <div class="small">Starts when the curtain opens.</div>
          </div>
          <div style="display:flex; gap:10px;">
            <button id="ytPlay" type="button">Play</button>
            <button id="ytPause" type="button">Pause</button>
          </div>
        </div>
        <div class="small" style="margin-top:10px;">
          If it doesnâ€™t start automatically, hit Play (some browsers are strict).
        </div>
      </div>

      <div class="small">
        Tip: Keep it respectful + private. If you ever share publicly, get her OK first.
      </div>
    </aside>
  </div>

  <script>
    // Run only after the page is fully loaded
    window.addEventListener("load", () => {
      // ===== Curtain =====
      const curtain = document.getElementById("curtain");
      const wrap = document.getElementById("wrap");

      if (!curtain || !wrap) {
        console.error("Curtain or wrap not found.");
        return;
      }

      let opened = false;

      function openCurtain() {
        if (opened) return;
        opened = true;

        curtain.classList.add("opening");
        wrap.classList.add("revealed");

        // Start music
        if (window.ytApiReady && window.ytPlayer && typeof window.ytPlayer.playVideo === "function") {
          try { window.ytPlayer.unMute(); } catch {}
          try { window.ytPlayer.playVideo(); } catch {}
        } else {
          window.shouldAutoPlayOnReady = true;
        }

        // Start typing
        startTyping();

        setTimeout(() => curtain.classList.add("hidden"), 1100);
      }

      // Make sure it reacts to clicks anywhere on the overlay
      curtain.addEventListener("click", openCurtain, { passive: true });
      curtain.addEventListener("pointerdown", openCurtain, { passive: true });
      curtain.addEventListener("touchstart", openCurtain, { passive: true });

      // Also allow keyboard
      curtain.addEventListener("keydown", (e) => {
        if (e.key === "Enter" || e.key === " ") openCurtain();
      });

      // ===== YouTube setup =====
      const YT_VIDEO_ID = "vUFsC-Pl7Js";
      window.ytPlayer = null;
      window.ytApiReady = false;
      window.shouldAutoPlayOnReady = false;

      // Load YT API
      const tag = document.createElement("script");
      tag.src = "https://www.youtube.com/iframe_api";
      document.head.appendChild(tag);

      window.onYouTubeIframeAPIReady = function () {
        window.ytApiReady = true;

        window.ytPlayer = new YT.Player("ytPlayer", {
          width: "1",
          height: "1",
          videoId: YT_VIDEO_ID,
          playerVars: {
            autoplay: 0,
            controls: 0,
            disablekb: 1,
            modestbranding: 1,
            rel: 0,
            playsinline: 1
          },
          events: {
            onReady: () => {
              if (window.shouldAutoPlayOnReady) {
                try { window.ytPlayer.unMute(); } catch {}
                try { window.ytPlayer.playVideo(); } catch {}
                window.shouldAutoPlayOnReady = false;
              }
            }
          }
        });
      };

      const ytPlay = document.getElementById("ytPlay");
      const ytPause = document.getElementById("ytPause");

      if (ytPlay) ytPlay.addEventListener("click", () => {
        if (window.ytPlayer) {
          try { window.ytPlayer.unMute(); } catch {}
          try { window.ytPlayer.playVideo(); } catch {}
        }
      });

      if (ytPause) ytPause.addEventListener("click", () => {
        if (window.ytPlayer) {
          try { window.ytPlayer.pauseVideo(); } catch {}
        }
      });

      // ===== Typewriter =====
      const message = `No gallery of masters, no canvas ever hung,
could hold a light so singular as yours.
You are no copy, no echo of anotherâ€™s handâ€”
you are the deliberate stroke of God Himself,
breathed into being with intention,
sculpted with care so that kindness
would live forever in the soft chambers of your heart.
Inside and out, you carry His signature:
that rare warmth that turns strangers into friends,
that quiet love that makes the air around you feel like home,
that glow that doesnâ€™t flicker even when the world grows dim.
You are daughter of the Most High,
light He kindled to walk through shadows,
a living poem of grace and strength and gentle joy.
And Iâ€”
I could stand before you for hours,
not as critic, not as passerby,
but as someone granted the privilege of beholding
the one masterpiece He placed directly in my path.
I know now why my eyes keep finding you:
because heaven, in its quiet wisdom,
decided I should never stop being astonished.`;

      let typeIndex = 0;
      let typingStarted = false;

      function typeWriter() {
        const el = document.getElementById("typeText");
        if (!el) return;

        if (typeIndex < message.length) {
          el.textContent += message.charAt(typeIndex);
          typeIndex++;
          setTimeout(typeWriter, 22);
        } else {
          el.classList.remove("caret");
        }
      }

      function startTyping() {
        if (typingStarted) return;
        typingStarted = true;
        setTimeout(typeWriter, 800);
      }

      // ===== Gallery =====
      const imgs = Array.from(document.querySelectorAll(".gallery img"));
      const counter = document.getElementById("counter");
      const dotsWrap = document.getElementById("dots");

      let i = 0;
      let timer = null;

      function renderDots() {
        if (!dotsWrap) return;
        dotsWrap.innerHTML = "";
        imgs.forEach((_, idx) => {
          const d = document.createElement("div");
          d.className = "dot" + (idx === i ? " active" : "");
          d.style.cursor = "pointer";
          d.addEventListener("click", () => { go(idx); restartAuto(); });
          dotsWrap.appendChild(d);
        });
      }

      function go(nextIndex) {
        if (!imgs.length) return;
        imgs[i].classList.remove("active");
        i = (nextIndex + imgs.length) % imgs.length;
        imgs[i].classList.add("active");
        if (counter) counter.textContent = `${i + 1} / ${imgs.length}`;
        renderDots();
      }

      const nextBtn = document.getElementById("next");
      const prevBtn = document.getElementById("prev");

      if (nextBtn) nextBtn.addEventListener("click", () => { go(i + 1); restartAuto(); });
      if (prevBtn) prevBtn.addEventListener("click", () => { go(i - 1); restartAuto(); });

      function startAuto() { timer = setInterval(() => go(i + 1), 5000); }
      function restartAuto() { clearInterval(timer); startAuto(); }

      if (imgs.length) {
        if (counter) counter.textContent = `${i + 1} / ${imgs.length}`;
        renderDots();
        startAuto();
      }
    });
  </script>
</body>
</html>
